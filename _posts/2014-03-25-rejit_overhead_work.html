---
layout: post
title:  "Reduced overhead in rejit"
date:   2014-03-19
author: Alexandre Rames
categories: technical
---

This weekend I spent some time working to reduce the overhead of calling rejit
to match a regular expression. Below are the usual benchmark results for rejit
before and after the overhead improvements, and also for v8 as it shows good
performance for small text sizes.

<h2>Info</h2>
Date: 2014/03/25 09:09<br/>
Command: <code>./tools/benchmarks/run.py --nobuild --engines v8 rejit_base rejit v8</code><br/>
Arguments: <code>{'jobs': 1, 'verbose': False, 'engines': ['v8', 'rejit_base', 'rejit', 'v8'], 'sizes': [8, 16, 32, 64, 128, 256, 512, 1024, 2048, 4096, 8192, 16384, 32768, 65536, 131072, 262144, 524288, 1048576, 2097152], 'nosimd': False, 'nobuild': True, 'iterations': 100, 'display': False}</code><br/>
<h3>Machine description</h3>

<pre>
Model Name: MacBook Air
Model Identifier: MacBookAir5,2
Processor Name: Intel Core i7
Processor Speed:  2 GHz
Number of Processors: 1
Total Number of Cores:  2
L2 Cache (per Core):  256 KB
L3 Cache: 4 MB
Memory: 8 GB
</pre>
<h3>Engines versions</h3>

<table style="text-align:right;">
<tr><td>engine</td><td style="padding-left:50px;">commit</td></tr><tr>
  <td>rejit</td><td style="padding-left:50px;"><pre style="padding:0 0 0 0;margin:0 0 0 0;">c793bc7976c4ed69be22290a8ced8a84f525a869</pre></td>
</tr>
<tr>
  <td>rejit_base</td><td style="padding-left:50px;"><pre style="padding:0 0 0 0;margin:0 0 0 0;">0160c2bb211236665794575faa072ccfac1d3e22</pre></td>
</tr>
<tr>
  <td>v8</td><td style="padding-left:50px;"><pre style="padding:0 0 0 0;margin:0 0 0 0;">f9c0fea0082debd9511de1ee42376d8b6979f8e6</pre></td>
</tr>
</table>
<h2>Results</h2>

<table>

  <tr>
    <td style="padding-top: 1em;">
      <div style="padding: 2em 0 0 5em;">
      <pre>regexp: abcdefgh
range: ['b','z']</pre> </div>
    </td>
  </tr>

  <tr>
    <td>
      <div>
        <div id="plot_parallel_1" style="float:left;width:600px;height:400px"></div>
        <div style="float:left;"> <ul id="plot_parallel_1_choices" style="list-style: none;" class="flot_choices"> </ul> </div>
      </div>
      <script type="text/javascript">
        $(function () {
          
var data_1_v8_speed = [[8,204800000],[16,409600000],[32,819200000],[64,1872457142.857143],[128,3276800000],[256,5825422222.222221],[512,10485760000],[1024,16131938461.538464],[2048,23301688888.888885],[4096,33554432000],[8192,39945752380.95238],[16384,45343827027.02703],[32768,44150568421.05263],[65536,41943040000],[131072,43018502564.10256],[262144,41943040000],[524288,40920039024.39024],[1048576,41943040000],[2097152,41943040000]];
var data_1_rejit_amortised = [[8,6.15385e+07],[16,1.14286e+08],[32,2.13333e+08],[64,3.55556e+08],[128,6.73684e+08],[256,1.34737e+09],[512,2.4381e+09],[1024,4.45217e+09],[2048,6.82667e+09],[4096,9.52558e+09],[8192,1.22269e+10],[16384,1.44991e+10],[32768,1.55299e+10],[65536,1.6262e+10],[131072,1.66335e+10],[262144,1.5384e+10],[524288,1.57397e+10],[1048576,1.6869e+10],[2097152,1.67812e+10]];
var data_1_rejit_worse = [[8,500626],[16,1.08918e+06],[32,1.93353e+06],[64,4.24403e+06],[128,8.05538e+06],[256,1.63578e+07],[512,3.22013e+07],[1024,6.47282e+07],[2048,1.29293e+08],[4096,2.52528e+08],[8192,4.97389e+08],[16384,1.02979e+09],[32768,1.90844e+09],[65536,3.39389e+09],[131072,5.35863e+09],[262144,7.55458e+09],[524288,9.79428e+09],[1048576,1.29294e+10],[2097152,1.47635e+10]];
var data_1_rejit_best = [[8,8e+08],[16,8e+08],[32,1.06667e+09],[64,1.28e+09],[128,2.13333e+09],[256,4.26667e+09],[512,7.31429e+09],[1024,9.30909e+09],[2048,1.13778e+10],[4096,1.32129e+10],[8192,1.54566e+10],[16384,1.62218e+10],[32768,1.64663e+10],[65536,1.67611e+10],[131072,1.69125e+10],[262144,1.55391e+10],[524288,1.58109e+10],[1048576,1.69071e+10],[2097152,1.67987e+10]];
var data_1_rejit_base_amortised = [[8,4.70588e+07],[16,8.88889e+07],[32,1.68421e+08],[64,3.2e+08],[128,6.4e+08],[256,1.11304e+09],[512,1.42222e+09],[1024,3.79259e+09],[2048,5.85143e+09],[4096,8.71489e+09],[8192,1.12219e+10],[16384,1.31072e+10],[32768,1.52409e+10],[65536,1.48945e+10],[131072,1.23188e+10],[262144,1.37681e+10],[524288,1.68636e+10],[1048576,1.68554e+10],[2097152,1.66811e+10]];
var data_1_rejit_base_worse = [[8,529801],[16,1.16874e+06],[32,2.33406e+06],[64,4.69552e+06],[128,9.28209e+06],[256,1.63578e+07],[512,3.48536e+07],[1024,6.99454e+07],[2048,1.37634e+08],[4096,2.75084e+08],[8192,5.2345e+08],[16384,1.02785e+09],[32768,1.97517e+09],[65536,3.2157e+09],[131072,5.04511e+09],[262144,5.65209e+09],[524288,1.09409e+10],[1048576,1.32647e+10],[2097152,1.48861e+10]];
var data_1_rejit_base_best = [[8,1.14286e+08],[16,2.28571e+08],[32,4e+08],[64,7.11111e+08],[128,1.42222e+09],[256,2.32727e+09],[512,3.93846e+09],[1024,6.82667e+09],[2048,8.53333e+09],[4096,1.13778e+10],[8192,1.32129e+10],[16384,1.44991e+10],[32768,1.61419e+10],[65536,1.5384e+10],[131072,1.2483e+10],[262144,1.39438e+10],[524288,1.69344e+10],[1048576,1.6888e+10],[2097152,1.66971e+10]];
          var datasets = [ 
{data: data_1_v8_speed, label: "v8 speed", color:"#E0D48D"},
{data: data_1_rejit_amortised, label: "rejit amortised", color:"#277AD9"},
{data: data_1_rejit_worse, label: "rejit worse", color:"#94B8E0"},
{data: data_1_rejit_best, label: "rejit best", color:"#94B8E0"},
{data: data_1_rejit_base_amortised, label: "rejit_base amortised", color:"#00940A"},
{data: data_1_rejit_base_worse, label: "rejit_base worse", color:"#72B377"},
{data: data_1_rejit_base_best, label: "rejit_base best", color:"#72B377"}, ];

          var choiceContainer = $("#plot_parallel_1_choices");
          $.each(datasets, function(key, val) {
             choiceContainer.append('<li style="list-style: none;"><input type="checkbox" name="' + key +
                                    '" checked="checked" id="id' + key + '">' +
                                    '<label for="id' + key + '">'
                                    + val.label + '</label></li>');
          });

          plot_according_to_choices("plot_parallel_1", datasets, choiceContainer);
          $("#plot_parallel_1").bind("plothover", plothover_func);
          function replot() { plot_according_to_choices("plot_parallel_1", datasets, choiceContainer); }
          choiceContainer.find("input").change(replot);
          $('.legendColorBox > div').each(function(i){
                                          $(this).clone().prependTo(choiceContainer.find("li").eq(i));
                                          });
        });
      </script>
    </td>

  <tr>
    <td style="padding-top: 1em;">
      <div style="padding: 2em 0 0 5em;">
      <pre>regexp: abcdefgh
range: ['0','z']</pre> </div>
    </td>
  </tr>

  <tr>
    <td>
      <div>
        <div id="plot_parallel_2" style="float:left;width:600px;height:400px"></div>
        <div style="float:left;"> <ul id="plot_parallel_2_choices" style="list-style: none;" class="flot_choices"> </ul> </div>
      </div>
      <script type="text/javascript">
        $(function () {
          
var data_2_v8_speed = [[8,234057142.85714287],[16,409600000],[32,819200000],[64,1310720000],[128,2912711111.1111107],[256,5242880000],[512,7489828571.428572],[1024,11650844444.444443],[2048,15534459259.25926],[4096,5518821052.631578],[8192,4194304000],[16384,3744914285.714286],[32768,3495253333.3333335],[65536,3382503225.806452],[131072,3382503225.806452],[262144,3276800000],[524288,3382503225.806452],[1048576,3328812698.4126983],[2097152,3302601574.8031497]];
var data_2_rejit_amortised = [[8,6.15385e+07],[16,1.06667e+08],[32,2.13333e+08],[64,3.76471e+08],[128,7.11111e+08],[256,1.42222e+09],[512,2.69474e+09],[1024,4.45217e+09],[2048,6.60645e+09],[4096,9.75238e+09],[8192,1.10703e+10],[16384,1.26031e+10],[32768,1.31598e+10],[65536,1.46286e+10],[131072,1.48945e+10],[262144,1.30032e+10],[524288,1.25879e+10],[1048576,1.47791e+10],[2097152,1.46357e+10]];
var data_2_rejit_worse = [[8,519143],[16,1.09514e+06],[32,2.19328e+06],[64,4.40771e+06],[128,8.85201e+06],[256,1.74387e+07],[512,3.5189e+07],[1024,6.64935e+07],[2048,1.2962e+08],[4096,2.52996e+08],[8192,5.06931e+08],[16384,9.60375e+08],[32768,1.7301e+09],[65536,3.15988e+09],[131072,5.18686e+09],[262144,7.25558e+09],[524288,7.69767e+09],[1048576,1.1712e+10],[2097152,1.2967e+10]];
var data_2_rejit_best = [[8,8e+08],[16,8e+08],[32,1.06667e+09],[64,1.28e+09],[128,2.13333e+09],[256,4.26667e+09],[512,6.4e+09],[1024,9.30909e+09],[2048,1.13778e+10],[4096,1.36533e+10],[8192,1.32129e+10],[16384,1.38847e+10],[32768,1.40635e+10],[65536,1.50657e+10],[131072,1.51179e+10],[262144,1.31006e+10],[524288,1.26365e+10],[1048576,1.48125e+10],[2097152,1.465e+10]];
var data_2_rejit_base_amortised = [[8,4.21053e+07],[16,8.42105e+07],[32,1.6e+08],[64,3.04762e+08],[128,5.81818e+08],[256,1.06667e+09],[512,1.96923e+09],[1024,3.65714e+09],[2048,5.68889e+09],[4096,8.35918e+09],[8192,1.07789e+10],[16384,1.29008e+10],[32768,1.38262e+10],[65536,1.44671e+10],[131072,1.44194e+10],[262144,1.3632e+10],[524288,1.46613e+10],[1048576,1.47293e+10],[2097152,1.47272e+10]];
var data_2_rejit_base_worse = [[8,483676],[16,1.05332e+06],[32,2.13476e+06],[64,4.2328e+06],[128,7.90611e+06],[256,1.56863e+07],[512,3.22013e+07],[1024,6.3288e+07],[2048,1.25337e+08],[4096,2.48997e+08],[8192,4.81033e+08],[16384,1.00208e+09],[32768,1.88756e+09],[65536,3.23635e+09],[131072,5.05484e+09],[262144,6.54542e+09],[524288,9.04413e+09],[1048576,1.16729e+10],[2097152,1.28415e+10]];
var data_2_rejit_base_best = [[8,1.14286e+08],[16,2.28571e+08],[32,4e+08],[64,7.11111e+08],[128,1.28e+09],[256,2.32727e+09],[512,3.93846e+09],[1024,6.82667e+09],[2048,8.90435e+09],[4096,1.13778e+10],[8192,1.28e+10],[16384,1.4247e+10],[32768,1.46942e+10],[65536,1.48945e+10],[131072,1.46286e+10],[262144,1.37536e+10],[524288,1.47231e+10],[1048576,1.47583e+10],[2097152,1.47417e+10]];
          var datasets = [ 
{data: data_2_v8_speed, label: "v8 speed", color:"#E0D48D"},
{data: data_2_rejit_amortised, label: "rejit amortised", color:"#277AD9"},
{data: data_2_rejit_worse, label: "rejit worse", color:"#94B8E0"},
{data: data_2_rejit_best, label: "rejit best", color:"#94B8E0"},
{data: data_2_rejit_base_amortised, label: "rejit_base amortised", color:"#00940A"},
{data: data_2_rejit_base_worse, label: "rejit_base worse", color:"#72B377"},
{data: data_2_rejit_base_best, label: "rejit_base best", color:"#72B377"}, ];

          var choiceContainer = $("#plot_parallel_2_choices");
          $.each(datasets, function(key, val) {
             choiceContainer.append('<li style="list-style: none;"><input type="checkbox" name="' + key +
                                    '" checked="checked" id="id' + key + '">' +
                                    '<label for="id' + key + '">'
                                    + val.label + '</label></li>');
          });

          plot_according_to_choices("plot_parallel_2", datasets, choiceContainer);
          $("#plot_parallel_2").bind("plothover", plothover_func);
          function replot() { plot_according_to_choices("plot_parallel_2", datasets, choiceContainer); }
          choiceContainer.find("input").change(replot);
          $('.legendColorBox > div').each(function(i){
                                          $(this).clone().prependTo(choiceContainer.find("li").eq(i));
                                          });
        });
      </script>
    </td>

  <tr>
    <td style="padding-top: 1em;">
      <div style="padding: 2em 0 0 5em;">
      <pre>regexp: abcdefgh
range: ['a','j']</pre> </div>
    </td>
  </tr>

  <tr>
    <td>
      <div>
        <div id="plot_parallel_3" style="float:left;width:600px;height:400px"></div>
        <div style="float:left;"> <ul id="plot_parallel_3_choices" style="list-style: none;" class="flot_choices"> </ul> </div>
      </div>
      <script type="text/javascript">
        $(function () {
          
var data_3_v8_speed = [[8,204800000],[16,409600000],[32,655360000],[64,1092266666.6666665],[128,1456355555.5555553],[256,1807889655.1724136],[512,2184533333.333333],[1024,2279513043.478261],[2048,2383127272.7272725],[4096,2383127272.7272725],[8192,1941807407.4074075],[16384,2330168888.888889],[32768,2016492307.692308],[65536,2097152000],[131072,2016492307.692308],[262144,1872457142.857143],[524288,1872457142.857143],[1048576,1855886725.6637168],[2097152,1855886725.6637168]];
var data_3_rejit_amortised = [[8,5.71429e+07],[16,1.14286e+08],[32,2.13333e+08],[64,3.76471e+08],[128,7.52941e+08],[256,1.42222e+09],[512,2.22609e+09],[1024,3.65714e+09],[2048,4.87619e+09],[4096,6.30154e+09],[8192,7.5156e+09],[16384,8.11089e+09],[32768,8.95301e+09],[65536,9.36229e+09],[131072,9.27615e+09],[262144,7.45363e+09],[524288,6.83022e+09],[1048576,6.5692e+09],[2097152,6.50602e+09]];
var data_3_rejit_worse = [[8,511182],[16,1.10269e+06],[32,2.18878e+06],[64,4.39863e+06],[128,8.70748e+06],[256,1.7704e+07],[512,3.29897e+07],[1024,6.47691e+07],[2048,1.26733e+08],[4096,2.53622e+08],[8192,4.78784e+08],[16384,9.09212e+08],[32768,1.67354e+09],[65536,2.91142e+09],[131072,4.21996e+09],[262144,5.0971e+09],[524288,4.38368e+09],[1048576,5.72805e+09],[2097152,5.23359e+09]];
var data_3_rejit_best = [[8,4e+08],[16,8e+08],[32,1.06667e+09],[64,1.28e+09],[128,2.56e+09],[256,4.26667e+09],[512,5.12e+09],[1024,6.4e+09],[2048,6.82667e+09],[4096,7.87692e+09],[8192,8.71489e+09],[16384,8.66878e+09],[32768,9.2565e+09],[65536,9.53945e+09],[131072,9.36229e+09],[262144,7.48341e+09],[524288,6.8436e+09],[1048576,6.57538e+09],[2097152,6.50926e+09]];
var data_3_rejit_base_amortised = [[8,4.44444e+07],[16,8.88889e+07],[32,1.68421e+08],[64,2.90909e+08],[128,6.09524e+08],[256,1.11304e+09],[512,1.8963e+09],[1024,3.10303e+09],[2048,4.35745e+09],[4096,5.85143e+09],[8192,7.31429e+09],[16384,7.91498e+09],[32768,8.97753e+09],[65536,9.23042e+09],[131072,8.98985e+09],[262144,7.64045e+09],[524288,6.76763e+09],[1048576,6.4687e+09],[2097152,6.34943e+09]];
var data_3_rejit_base_worse = [[8,528402],[16,1.11498e+06],[32,2.21453e+06],[64,4.5134e+06],[128,8.98246e+06],[256,1.76918e+07],[512,3.43624e+07],[1024,6.67101e+07],[2048,1.32214e+08],[4096,2.60726e+08],[8192,4.96485e+08],[16384,9.27746e+08],[32768,1.62379e+09],[65536,2.86935e+09],[131072,4.15311e+09],[262144,4.59096e+09],[524288,5.17969e+09],[1048576,5.58645e+09],[2097152,5.90215e+09]];
var data_3_rejit_base_best = [[8,1.33333e+08],[16,2.66667e+08],[32,4e+08],[64,6.4e+08],[128,1.28e+09],[256,2.32727e+09],[512,3.2e+09],[1024,4.87619e+09],[2048,5.85143e+09],[4096,7.06207e+09],[8192,8.192e+09],[16384,8.48912e+09],[32768,9.28272e+09],[65536,9.38911e+09],[131072,9.07073e+09],[262144,7.674e+09],[524288,6.77988e+09],[1048576,6.47509e+09],[2097152,6.35231e+09]];
          var datasets = [ 
{data: data_3_v8_speed, label: "v8 speed", color:"#E0D48D"},
{data: data_3_rejit_amortised, label: "rejit amortised", color:"#277AD9"},
{data: data_3_rejit_worse, label: "rejit worse", color:"#94B8E0"},
{data: data_3_rejit_best, label: "rejit best", color:"#94B8E0"},
{data: data_3_rejit_base_amortised, label: "rejit_base amortised", color:"#00940A"},
{data: data_3_rejit_base_worse, label: "rejit_base worse", color:"#72B377"},
{data: data_3_rejit_base_best, label: "rejit_base best", color:"#72B377"}, ];

          var choiceContainer = $("#plot_parallel_3_choices");
          $.each(datasets, function(key, val) {
             choiceContainer.append('<li style="list-style: none;"><input type="checkbox" name="' + key +
                                    '" checked="checked" id="id' + key + '">' +
                                    '<label for="id' + key + '">'
                                    + val.label + '</label></li>');
          });

          plot_according_to_choices("plot_parallel_3", datasets, choiceContainer);
          $("#plot_parallel_3").bind("plothover", plothover_func);
          function replot() { plot_according_to_choices("plot_parallel_3", datasets, choiceContainer); }
          choiceContainer.find("input").change(replot);
          $('.legendColorBox > div').each(function(i){
                                          $(this).clone().prependTo(choiceContainer.find("li").eq(i));
                                          });
        });
      </script>
    </td>

  <tr>
    <td style="padding-top: 1em;">
      <div style="padding: 2em 0 0 5em;">
      <pre>regexp: ([complex]|(regexp)){2,7}abcdefgh(at|the|[e-nd]as well)
range: ['0','z']</pre> </div>
    </td>
  </tr>

  <tr>
    <td>
      <div>
        <div id="plot_parallel_4" style="float:left;width:600px;height:400px"></div>
        <div style="float:left;"> <ul id="plot_parallel_4_choices" style="list-style: none;" class="flot_choices"> </ul> </div>
      </div>
      <script type="text/javascript">
        $(function () {
          
var data_4_v8_speed = [[8,148945454.54545453],[16,252061538.4615385],[32,409600000],[64,595781818.1818181],[128,569878260.8695652],[256,546133333.3333333],[512,569878260.8695652],[1024,504123076.923077],[2048,451972413.7931034],[4096,344926315.78947365],[8192,327680000],[16384,312076190.47619045],[32768,297890909.09090906],[65536,297890909.09090906],[131072,301314942.52873564],[262144,297890909.09090906],[524288,298739601.1396011],[1048576,297890909.09090906],[2097152,297679488.9992903]];
var data_4_rejit_amortised = [[8,1.40351e+07],[16,2.53968e+07],[32,4.57143e+07],[64,6.66667e+07],[128,2.06452e+08],[256,3.93846e+08],[512,7.87692e+08],[1024,1.55152e+09],[2048,2.76757e+09],[4096,4.70805e+09],[8192,7.24956e+09],[16384,9.75238e+09],[32768,1.19156e+10],[65536,1.33475e+10],[131072,1.42161e+10],[262144,1.44991e+10],[524288,1.46449e+10],[1048576,1.46921e+10],[2097152,1.46829e+10]];
var data_4_rejit_worse = [[8,124980],[16,246040],[32,473163],[64,809512],[128,1.79876e+06],[256,4.09338e+06],[512,8.16587e+06],[1024,1.63239e+07],[2048,3.27157e+07],[4096,6.53895e+07],[8192,1.2915e+08],[16384,2.56401e+08],[32768,5.00963e+08],[65536,9.62067e+08],[131072,1.7349e+09],[262144,3.14888e+09],[524288,5.1593e+09],[1048576,7.5448e+09],[2097152,9.84625e+09]];
var data_4_rejit_best = [[8,8e+08],[16,8e+08],[32,8e+08],[64,1.28e+09],[128,2.13333e+09],[256,4.26667e+09],[512,7.31429e+09],[1024,9.30909e+09],[2048,1.20471e+10],[4096,1.41241e+10],[8192,1.41241e+10],[16384,1.48945e+10],[32768,1.51005e+10],[65536,1.51353e+10],[131072,1.51353e+10],[262144,1.49882e+10],[524288,1.48903e+10],[1048576,1.48125e+10],[2097152,1.47458e+10]];
var data_4_rejit_base_amortised = [[8,1.01266e+07],[16,1.90476e+07],[32,3.07692e+07],[64,7.71084e+07],[128,1.4382e+08],[256,3.12195e+08],[512,5.88506e+08],[1024,1.15056e+09],[2048,2.15579e+09],[4096,3.2252e+09],[8192,5.89353e+09],[16384,8.66878e+09],[32768,1.1033e+10],[65536,1.28e+10],[131072,1.38116e+10],[262144,1.43248e+10],[524288,1.44991e+10],[1048576,1.45777e+10],[2097152,1.46347e+10]];
var data_4_rejit_base_worse = [[8,126342],[16,251414],[32,480841],[64,1.02073e+06],[128,1.85615e+06],[256,3.84731e+06],[512,8.31574e+06],[1024,1.65776e+07],[2048,3.27104e+07],[4096,6.60432e+07],[8192,1.30884e+08],[16384,2.59446e+08],[32768,5.07874e+08],[65536,9.67036e+08],[131072,1.76457e+09],[262144,3.15266e+09],[524288,5.18276e+09],[1048576,7.60168e+09],[2097152,9.84532e+09]];
var data_4_rejit_base_best = [[8,3.33333e+07],[16,6.15385e+07],[32,1.18519e+08],[64,2.46154e+08],[128,4.26667e+08],[256,9.48148e+08],[512,1.76552e+09],[1024,3.2e+09],[2048,5.12e+09],[4096,6.82667e+09],[8192,9.86988e+09],[16384,1.24121e+10],[32768,1.36533e+10],[65536,1.43405e+10],[131072,1.47107e+10],[262144,1.4802e+10],[524288,1.47355e+10],[1048576,1.46962e+10],[2097152,1.46973e+10]];
          var datasets = [ 
{data: data_4_v8_speed, label: "v8 speed", color:"#E0D48D"},
{data: data_4_rejit_amortised, label: "rejit amortised", color:"#277AD9"},
{data: data_4_rejit_worse, label: "rejit worse", color:"#94B8E0"},
{data: data_4_rejit_best, label: "rejit best", color:"#94B8E0"},
{data: data_4_rejit_base_amortised, label: "rejit_base amortised", color:"#00940A"},
{data: data_4_rejit_base_worse, label: "rejit_base worse", color:"#72B377"},
{data: data_4_rejit_base_best, label: "rejit_base best", color:"#72B377"}, ];

          var choiceContainer = $("#plot_parallel_4_choices");
          $.each(datasets, function(key, val) {
             choiceContainer.append('<li style="list-style: none;"><input type="checkbox" name="' + key +
                                    '" checked="checked" id="id' + key + '">' +
                                    '<label for="id' + key + '">'
                                    + val.label + '</label></li>');
          });

          plot_according_to_choices("plot_parallel_4", datasets, choiceContainer);
          $("#plot_parallel_4").bind("plothover", plothover_func);
          function replot() { plot_according_to_choices("plot_parallel_4", datasets, choiceContainer); }
          choiceContainer.find("input").change(replot);
          $('.legendColorBox > div').each(function(i){
                                          $(this).clone().prependTo(choiceContainer.find("li").eq(i));
                                          });
        });
      </script>
    </td>

  <tr>
    <td style="padding-top: 1em;">
      <div style="padding: 2em 0 0 5em;">
      <pre>regexp: (alternation|strings)
range: ['0','z']</pre> </div>
    </td>
  </tr>

  <tr>
    <td>
      <div>
        <div id="plot_parallel_5" style="float:left;width:600px;height:400px"></div>
        <div style="float:left;"> <ul id="plot_parallel_5_choices" style="list-style: none;" class="flot_choices"> </ul> </div>
      </div>
      <script type="text/javascript">
        $(function () {
          
var data_5_v8_speed = [[8,163840000],[16,297890909.09090906],[32,595781818.1818181],[64,1092266666.6666665],[128,2184533333.333333],[256,3495253333.3333335],[512,5518821052.631578],[1024,6990506666.666667],[2048,9118052173.913044],[4096,10230009756.09756],[8192,10485760000],[16384,10230009756.09756],[32768,8388608000],[65536,6765006451.612904],[131072,6168094117.6470585],[262144,5991862857.142857],[524288,5825422222.222221],[1048576,5991862857.142857],[2097152,5825422222.222221]];
var data_5_rejit_amortised = [[8,2.22222e+07],[16,4.32432e+07],[32,7.80488e+07],[64,1.23077e+08],[128,2.56e+08],[256,5.44681e+08],[512,9.14286e+08],[1024,1.65161e+09],[2048,2.20215e+09],[4096,3.93846e+09],[8192,4.93494e+09],[16384,6.3751e+09],[32768,6.77025e+09],[65536,7.06969e+09],[131072,7.24956e+09],[262144,7.27168e+09],[524288,7.21464e+09],[1048576,6.93778e+09],[2097152,6.7169e+09]];
var data_5_rejit_worse = [[8,221117],[16,456100],[32,909349],[64,1.72182e+06],[128,3.38088e+06],[256,6.43863e+06],[512,1.44266e+07],[1024,2.86273e+07],[2048,4.95284e+07],[4096,8.45408e+07],[8192,2.03883e+08],[16384,4.06349e+08],[32768,8.10487e+08],[65536,1.44543e+09],[131072,2.34392e+09],[262144,3.49479e+09],[524288,4.60791e+09],[1048576,5.36685e+09],[2097152,5.85323e+09]];
var data_5_rejit_best = [[8,2.66667e+08],[16,2.66667e+08],[32,3.55556e+08],[64,3.36842e+08],[128,8e+08],[256,1.70667e+09],[512,2.22609e+09],[1024,3.53103e+09],[2048,4.87619e+09],[4096,6.20606e+09],[8192,6.20606e+09],[16384,7.24956e+09],[32768,7.24956e+09],[65536,7.33886e+09],[131072,7.39267e+09],[262144,7.34297e+09],[524288,7.24956e+09],[1048576,6.95434e+09],[2097152,6.72509e+09]];
var data_5_rejit_base_amortised = [[8,2.10526e+07],[16,4e+07],[32,6.95652e+07],[64,1.23077e+08],[128,2.46154e+08],[256,5.22449e+08],[512,9.14286e+08],[1024,1.67869e+09],[2048,2.62564e+09],[4096,2.80548e+09],[8192,5.18481e+09],[16384,6.22966e+09],[32768,6.74239e+09],[65536,7.02422e+09],[131072,7.21365e+09],[262144,7.14873e+09],[524288,7.20275e+09],[1048576,6.9747e+09],[2097152,6.68245e+09]];
var data_5_rejit_base_worse = [[8,228702],[16,492459],[32,976801],[64,1.82857e+06],[128,3.65714e+06],[256,7.23164e+06],[512,1.56959e+07],[1024,3.10021e+07],[2048,5.57582e+07],[4096,9.37944e+07],[8192,1.77316e+08],[16384,4.59966e+08],[32768,8.67337e+08],[65536,1.54021e+09],[131072,2.46654e+09],[262144,3.592e+09],[524288,4.74426e+09],[1048576,5.40002e+09],[2097152,5.86009e+09]];
var data_5_rejit_base_best = [[8,8.88889e+07],[16,1.45455e+08],[32,2.13333e+08],[64,3.04762e+08],[128,6.4e+08],[256,1.34737e+09],[512,1.8963e+09],[1024,3.2e+09],[2048,4.45217e+09],[4096,4.17959e+09],[8192,6.4e+09],[16384,7.03176e+09],[32768,7.17024e+09],[65536,7.25759e+09],[131072,7.33886e+09],[262144,7.20968e+09],[524288,7.23455e+09],[1048576,6.99051e+09],[2097152,6.69012e+09]];
          var datasets = [ 
{data: data_5_v8_speed, label: "v8 speed", color:"#E0D48D"},
{data: data_5_rejit_amortised, label: "rejit amortised", color:"#277AD9"},
{data: data_5_rejit_worse, label: "rejit worse", color:"#94B8E0"},
{data: data_5_rejit_best, label: "rejit best", color:"#94B8E0"},
{data: data_5_rejit_base_amortised, label: "rejit_base amortised", color:"#00940A"},
{data: data_5_rejit_base_worse, label: "rejit_base worse", color:"#72B377"},
{data: data_5_rejit_base_best, label: "rejit_base best", color:"#72B377"}, ];

          var choiceContainer = $("#plot_parallel_5_choices");
          $.each(datasets, function(key, val) {
             choiceContainer.append('<li style="list-style: none;"><input type="checkbox" name="' + key +
                                    '" checked="checked" id="id' + key + '">' +
                                    '<label for="id' + key + '">'
                                    + val.label + '</label></li>');
          });

          plot_according_to_choices("plot_parallel_5", datasets, choiceContainer);
          $("#plot_parallel_5").bind("plothover", plothover_func);
          function replot() { plot_according_to_choices("plot_parallel_5", datasets, choiceContainer); }
          choiceContainer.find("input").change(replot);
          $('.legendColorBox > div').each(function(i){
                                          $(this).clone().prependTo(choiceContainer.find("li").eq(i));
                                          });
        });
      </script>
    </td>

  <tr>
    <td style="padding-top: 1em;">
      <div style="padding: 2em 0 0 5em;">
      <pre>regexp: (alternation|more|than|two|different|strings)
range: ['0','z']</pre> </div>
    </td>
  </tr>

  <tr>
    <td>
      <div>
        <div id="plot_parallel_6" style="float:left;width:600px;height:400px"></div>
        <div style="float:left;"> <ul id="plot_parallel_6_choices" style="list-style: none;" class="flot_choices"> </ul> </div>
      </div>
      <script type="text/javascript">
        $(function () {
          
var data_6_v8_speed = [[8,163840000],[16,327680000],[32,546133333.3333333],[64,1008246153.846154],[128,1747626666.6666667],[256,2383127272.7272725],[512,3177503030.3030305],[1024,3883614814.814815],[2048,4032984615.384616],[4096,3883614814.814815],[8192,3883614814.814815],[16384,2995931428.5714283],[32768,2231012765.9574466],[65536,2097152000],[131072,2016492307.692308],[262144,2016492307.692308],[524288,1978445283.0188677],[1048576,1959955140.1869159],[2097152,1969156807.511737]];
var data_6_rejit_amortised = [[8,1.12676e+07],[16,2.02532e+07],[32,3.63636e+07],[64,5.87156e+07],[128,1.20755e+08],[256,2.66667e+08],[512,3.93846e+08],[1024,6.4e+08],[2048,9.84615e+08],[4096,1.54566e+09],[8192,1.81239e+09],[16384,2.02272e+09],[32768,2.1431e+09],[65536,2.17945e+09],[131072,2.25442e+09],[262144,2.255e+09],[524288,2.17601e+09],[1048576,2.11611e+09],[2097152,2.10769e+09]];
var data_6_rejit_worse = [[8,115374],[16,226308],[32,435315],[64,931722],[128,1.68532e+06],[256,3.50205e+06],[512,7.45486e+06],[1024,1.46558e+07],[2048,2.8898e+07],[4096,5.84976e+07],[8192,1.12651e+08],[16384,2.1445e+08],[32768,3.91493e+08],[65536,6.61045e+08],[131072,1.00093e+09],[262144,1.35342e+09],[524288,1.61399e+09],[1048576,1.8159e+09],[2097152,1.9474e+09]];
var data_6_rejit_best = [[8,1.33333e+08],[16,1.33333e+08],[32,1.3913e+08],[64,1.48837e+08],[128,3.28205e+08],[256,8e+08],[512,7.64179e+08],[1024,1.0449e+09],[2048,1.42222e+09],[4096,2.03781e+09],[8192,2.10591e+09],[16384,2.19625e+09],[32768,2.23825e+09],[65536,2.23444e+09],[131072,2.2811e+09],[262144,2.26847e+09],[524288,2.18244e+09],[1048576,2.11932e+09],[2097152,2.10928e+09]];
var data_6_rejit_base_amortised = [[8,1.12676e+07],[16,2.02532e+07],[32,3.44086e+07],[64,5.61404e+07],[128,1.20755e+08],[256,2.56e+08],[512,4.0315e+08],[1024,6.36025e+08],[2048,1.00392e+09],[4096,1.54566e+09],[8192,1.81641e+09],[16384,2.03024e+09],[32768,2.14872e+09],[65536,2.18162e+09],[131072,2.18745e+09],[262144,2.24804e+09],[524288,2.16094e+09],[1048576,2.11603e+09],[2097152,2.10393e+09]];
var data_6_rejit_base_worse = [[8,127490],[16,254696],[32,486174],[64,972792],[128,1.89125e+06],[256,3.94818e+06],[512,8.28345e+06],[1024,1.64683e+07],[2048,3.2359e+07],[4096,6.45649e+07],[8192,1.24291e+08],[16384,2.36934e+08],[32768,4.24401e+08],[65536,7.12968e+08],[131072,1.06062e+09],[262144,1.40439e+09],[524288,1.65814e+09],[1048576,1.83854e+09],[2097152,1.96324e+09]];
var data_6_rejit_base_best = [[8,6.66667e+07],[16,8.88889e+07],[32,1.06667e+08],[64,1.23077e+08],[128,2.84444e+08],[256,6.5641e+08],[512,7.11111e+08],[1024,1.00392e+09],[2048,1.38378e+09],[4096,1.97874e+09],[8192,2.07392e+09],[16384,2.18162e+09],[32768,2.23367e+09],[65536,2.22382e+09],[131072,2.20995e+09],[262144,2.25986e+09],[524288,2.16675e+09],[1048576,2.11885e+09],[2097152,2.10532e+09]];
          var datasets = [ 
{data: data_6_v8_speed, label: "v8 speed", color:"#E0D48D"},
{data: data_6_rejit_amortised, label: "rejit amortised", color:"#277AD9"},
{data: data_6_rejit_worse, label: "rejit worse", color:"#94B8E0"},
{data: data_6_rejit_best, label: "rejit best", color:"#94B8E0"},
{data: data_6_rejit_base_amortised, label: "rejit_base amortised", color:"#00940A"},
{data: data_6_rejit_base_worse, label: "rejit_base worse", color:"#72B377"},
{data: data_6_rejit_base_best, label: "rejit_base best", color:"#72B377"}, ];

          var choiceContainer = $("#plot_parallel_6_choices");
          $.each(datasets, function(key, val) {
             choiceContainer.append('<li style="list-style: none;"><input type="checkbox" name="' + key +
                                    '" checked="checked" id="id' + key + '">' +
                                    '<label for="id' + key + '">'
                                    + val.label + '</label></li>');
          });

          plot_according_to_choices("plot_parallel_6", datasets, choiceContainer);
          $("#plot_parallel_6").bind("plothover", plothover_func);
          function replot() { plot_according_to_choices("plot_parallel_6", datasets, choiceContainer); }
          choiceContainer.find("input").change(replot);
          $('.legendColorBox > div').each(function(i){
                                          $(this).clone().prependTo(choiceContainer.find("li").eq(i));
                                          });
        });
      </script>
    </td>

  <tr>
    <td style="padding-top: 1em;">
      <div style="padding: 2em 0 0 5em;">
      <pre>regexp: (rather_long_string|min)
range: ['0','z']</pre> </div>
    </td>
  </tr>

  <tr>
    <td>
      <div>
        <div id="plot_parallel_7" style="float:left;width:600px;height:400px"></div>
        <div style="float:left;"> <ul id="plot_parallel_7_choices" style="list-style: none;" class="flot_choices"> </ul> </div>
      </div>
      <script type="text/javascript">
        $(function () {
          
var data_7_v8_speed = [[8,163840000],[16,297890909.09090906],[32,546133333.3333333],[64,1092266666.6666665],[128,1638400000],[256,2383127272.7272725],[512,3495253333.3333335],[1024,4194304000],[2048,4559026086.956522],[4096,4766254545.454545],[8192,4766254545.454545],[16384,4369066666.666666],[32768,3744914285.714286],[65536,3382503225.806452],[131072,3382503225.806452],[262144,3276800000],[524288,3276800000],[1048576,3276800000],[2097152,3251398449.612403]];
var data_7_rejit_amortised = [[8,1.70213e+07],[16,4.32432e+07],[32,7.80488e+07],[64,1.45455e+08],[128,3.04762e+08],[256,6.2439e+08],[512,1.16364e+09],[1024,1.67869e+09],[2048,3.10303e+09],[4096,5.18481e+09],[8192,8.11089e+09],[16384,1.0639e+10],[32768,1.27008e+10],[65536,1.3081e+10],[131072,1.38847e+10],[262144,1.42625e+10],[524288,1.41776e+10],[1048576,1.40315e+10],[2097152,1.34571e+10]];
var data_7_rejit_worse = [[8,194789],[16,401808],[32,776322],[64,1.49918e+06],[128,2.97605e+06],[256,6.33507e+06],[512,1.28e+07],[1024,2.40771e+07],[2048,4.50803e+07],[4096,9.25859e+07],[8192,1.93162e+08],[16384,3.89076e+08],[32768,7.62756e+08],[65536,1.41945e+09],[131072,2.53181e+09],[262144,4.22268e+09],[524288,6.43693e+09],[1048576,8.68098e+09],[2097152,1.03722e+10]];
var data_7_rejit_best = [[8,4e+08],[16,8e+08],[32,1.06667e+09],[64,1.28e+09],[128,2.56e+09],[256,5.12e+09],[512,7.31429e+09],[1024,5.38947e+09],[2048,7.58519e+09],[4096,9.99024e+09],[8192,1.26031e+10],[16384,1.38847e+10],[32768,1.48271e+10],[65536,1.40938e+10],[131072,1.44512e+10],[262144,1.45636e+10],[524288,1.43326e+10],[1048576,1.41089e+10],[2097152,1.34943e+10]];
var data_7_rejit_base_amortised = [[8,1.53846e+07],[16,3.01887e+07],[32,5.51724e+07],[64,1.03226e+08],[128,2.28571e+08],[256,4.49123e+08],[512,8.98246e+08],[1024,1.46286e+09],[2048,2.59241e+09],[4096,4.4043e+09],[8192,7.12348e+09],[16384,9.9297e+09],[32768,1.21814e+10],[65536,1.27502e+10],[131072,1.39736e+10],[262144,1.31797e+10],[524288,1.39773e+10],[1048576,1.3929e+10],[2097152,1.35782e+10]];
var data_7_rejit_base_worse = [[8,199750],[16,412159],[32,806045],[64,1.52891e+06],[128,2.43856e+06],[256,6.51731e+06],[512,1.30879e+07],[1024,2.37202e+07],[2048,4.77501e+07],[4096,9.5567e+07],[8192,2.00391e+08],[16384,4.02654e+08],[32768,7.82053e+08],[65536,1.44959e+09],[131072,2.57458e+09],[262144,4.22745e+09],[524288,6.45436e+09],[1048576,8.76882e+09],[2097152,1.04622e+10]];
var data_7_rejit_base_best = [[8,4.70588e+07],[16,8.88889e+07],[32,1.6e+08],[64,3.04762e+08],[128,6.09524e+08],[256,1.16364e+09],[512,2.22609e+09],[1024,3.2e+09],[2048,4.99512e+09],[4096,7.58519e+09],[8192,1.05026e+10],[16384,1.26031e+10],[32768,1.40034e+10],[65536,1.37105e+10],[131072,1.45474e+10],[262144,1.34502e+10],[524288,1.41279e+10],[1048576,1.40015e+10],[2097152,1.36126e+10]];
          var datasets = [ 
{data: data_7_v8_speed, label: "v8 speed", color:"#E0D48D"},
{data: data_7_rejit_amortised, label: "rejit amortised", color:"#277AD9"},
{data: data_7_rejit_worse, label: "rejit worse", color:"#94B8E0"},
{data: data_7_rejit_best, label: "rejit best", color:"#94B8E0"},
{data: data_7_rejit_base_amortised, label: "rejit_base amortised", color:"#00940A"},
{data: data_7_rejit_base_worse, label: "rejit_base worse", color:"#72B377"},
{data: data_7_rejit_base_best, label: "rejit_base best", color:"#72B377"}, ];

          var choiceContainer = $("#plot_parallel_7_choices");
          $.each(datasets, function(key, val) {
             choiceContainer.append('<li style="list-style: none;"><input type="checkbox" name="' + key +
                                    '" checked="checked" id="id' + key + '">' +
                                    '<label for="id' + key + '">'
                                    + val.label + '</label></li>');
          });

          plot_according_to_choices("plot_parallel_7", datasets, choiceContainer);
          $("#plot_parallel_7").bind("plothover", plothover_func);
          function replot() { plot_according_to_choices("plot_parallel_7", datasets, choiceContainer); }
          choiceContainer.find("input").change(replot);
          $('.legendColorBox > div').each(function(i){
                                          $(this).clone().prependTo(choiceContainer.find("li").eq(i));
                                          });
        });
      </script>
    </td>

  <tr>
    <td style="padding-top: 1em;">
      <div style="padding: 2em 0 0 5em;">
      <pre>regexp: (([complex]|(regexp)){2,7}alternation)|(strings(at|the|[e-nd]as well))
range: ['0','z']</pre> </div>
    </td>
  </tr>

  <tr>
    <td>
      <div>
        <div id="plot_parallel_8" style="float:left;width:600px;height:400px"></div>
        <div style="float:left;"> <ul id="plot_parallel_8_choices" style="list-style: none;" class="flot_choices"> </ul> </div>
      </div>
      <script type="text/javascript">
        $(function () {
          
var data_8_v8_speed = [[8,136533333.3333333],[16,234057142.85714287],[32,385505882.35294116],[64,504123076.923077],[128,468114285.71428573],[256,451972413.7931034],[512,436906666.6666667],[1024,385505882.35294116],[2048,336082051.28205127],[4096,278876595.7446808],[8192,262144000],[16384,262144000],[32768,262144000],[65536,257003921.56862748],[131072,259548514.85148513],[262144,260839800.99502486],[524288,259548514.85148513],[1048576,258588409.37114674],[2097152,257477225.29158992]];
var data_8_rejit_amortised = [[8,9.52381e+06],[16,1.50943e+07],[32,3.55556e+07],[64,5.92593e+07],[128,1.3617e+08],[256,2.63918e+08],[512,5.17172e+08],[1024,9.57009e+08],[2048,1.72101e+09],[4096,2.86434e+09],[8192,3.9961e+09],[16384,5.31948e+09],[32768,6.13633e+09],[65536,6.69418e+09],[131072,7.05827e+09],[262144,7.15849e+09],[524288,7.16828e+09],[1048576,6.96775e+09],[2097152,6.67925e+09]];
var data_8_rejit_worse = [[8,89917.9],[16,174596],[32,354925],[64,698537],[128,1.16152e+06],[256,2.93175e+06],[512,5.82348e+06],[1024,1.15095e+07],[2048,2.33577e+07],[4096,4.66994e+07],[8192,9.19726e+07],[16384,1.81742e+08],[32768,3.53675e+08],[65536,6.69076e+08],[131072,1.21217e+09],[262144,2.03829e+09],[524288,3.08006e+09],[1048576,4.18176e+09],[2097152,5.02938e+09]];
var data_8_rejit_best = [[8,2.66667e+08],[16,3.2e+08],[32,3.55556e+08],[64,3.36842e+08],[128,9.14286e+08],[256,1.6e+09],[512,2.56e+09],[1024,3.53103e+09],[2048,5.38947e+09],[4096,6.60645e+09],[8192,6.60645e+09],[16384,7.28178e+09],[32768,7.24956e+09],[65536,7.298e+09],[131072,7.3885e+09],[262144,7.33065e+09],[524288,7.25156e+09],[1048576,7.00873e+09],[2097152,6.69888e+09]];
var data_8_rejit_base_amortised = [[8,6.45161e+06],[16,1.32231e+07],[32,2.46154e+07],[64,5e+07],[128,1.04065e+08],[256,2.048e+08],[512,3.9084e+08],[1024,7.42029e+08],[2048,1.38378e+09],[4096,2.39532e+09],[8192,3.50085e+09],[16384,4.86172e+09],[32768,5.79965e+09],[65536,6.49514e+09],[131072,6.93503e+09],[262144,7.02234e+09],[524288,7.09168e+09],[1048576,6.89807e+09],[2097152,6.66397e+09]];
var data_8_rejit_base_worse = [[8,90303.6],[16,173536],[32,349269],[64,567980],[128,1.4345e+06],[256,2.83845e+06],[512,5.80696e+06],[1024,1.15186e+07],[2048,2.30865e+07],[4096,4.64136e+07],[8192,9.11843e+07],[16384,1.78553e+08],[32768,3.48967e+08],[65536,6.62381e+08],[131072,1.19569e+09],[262144,1.99516e+09],[524288,3.09187e+09],[1048576,4.15245e+09],[2097152,4.98503e+09]];
var data_8_rejit_base_best = [[8,2.5e+07],[16,4.44444e+07],[32,8e+07],[64,1.48837e+08],[128,3.04762e+08],[256,5.95349e+08],[512,1.0449e+09],[1024,1.86182e+09],[2048,3.10303e+09],[4096,4.5011e+09],[8192,5.42517e+09],[16384,6.4e+09],[32768,6.78427e+09],[65536,7.08497e+09],[131072,7.25357e+09],[262144,7.18596e+09],[524288,7.17515e+09],[1048576,6.93778e+09],[2097152,6.68394e+09]];
          var datasets = [ 
{data: data_8_v8_speed, label: "v8 speed", color:"#E0D48D"},
{data: data_8_rejit_amortised, label: "rejit amortised", color:"#277AD9"},
{data: data_8_rejit_worse, label: "rejit worse", color:"#94B8E0"},
{data: data_8_rejit_best, label: "rejit best", color:"#94B8E0"},
{data: data_8_rejit_base_amortised, label: "rejit_base amortised", color:"#00940A"},
{data: data_8_rejit_base_worse, label: "rejit_base worse", color:"#72B377"},
{data: data_8_rejit_base_best, label: "rejit_base best", color:"#72B377"}, ];

          var choiceContainer = $("#plot_parallel_8_choices");
          $.each(datasets, function(key, val) {
             choiceContainer.append('<li style="list-style: none;"><input type="checkbox" name="' + key +
                                    '" checked="checked" id="id' + key + '">' +
                                    '<label for="id' + key + '">'
                                    + val.label + '</label></li>');
          });

          plot_according_to_choices("plot_parallel_8", datasets, choiceContainer);
          $("#plot_parallel_8").bind("plothover", plothover_func);
          function replot() { plot_according_to_choices("plot_parallel_8", datasets, choiceContainer); }
          choiceContainer.find("input").change(replot);
          $('.legendColorBox > div').each(function(i){
                                          $(this).clone().prependTo(choiceContainer.find("li").eq(i));
                                          });
        });
      </script>
    </td>

  <tr>
    <td style="padding-top: 1em;">
      <div style="padding: 2em 0 0 5em;">
      <pre>regexp: (prefix abcd|prefix 1234)
range: ['0','z']</pre> </div>
    </td>
  </tr>

  <tr>
    <td>
      <div>
        <div id="plot_parallel_9" style="float:left;width:600px;height:400px"></div>
        <div style="float:left;"> <ul id="plot_parallel_9_choices" style="list-style: none;" class="flot_choices"> </ul> </div>
      </div>
      <script type="text/javascript">
        $(function () {
          
var data_9_v8_speed = [[8,163840000],[16,297890909.09090906],[32,595781818.1818181],[64,1191563636.3636363],[128,2184533333.333333],[256,3744914285.714286],[512,5825422222.222221],[1024,8065969230.769232],[2048,8738133333.333332],[4096,11335956756.756758],[8192,12336188235.294117],[16384,11983725714.285713],[32768,11037642105.263157],[65536,9118052173.913044],[131072,7767229629.62963],[262144,7489828571.428572],[524288,7489828571.428572],[1048576,7231558620.689654],[2097152,7231558620.689654]];
var data_9_rejit_amortised = [[8,1.90476e+07],[16,3.90244e+07],[32,6.66667e+07],[64,1.33333e+08],[128,2.84444e+08],[256,5.44681e+08],[512,1.08936e+09],[1024,1.86182e+09],[2048,2.92571e+09],[4096,4.99512e+09],[8192,8.35918e+09],[16384,1.09227e+10],[32768,1.25548e+10],[65536,1.39438e+10],[131072,1.43562e+10],[262144,1.46123e+10],[524288,1.47812e+10],[1048576,1.47086e+10],[2097152,1.4596e+10]];
var data_9_rejit_worse = [[8,176484],[16,363636],[32,688616],[64,1.34879e+06],[128,2.70785e+06],[256,5.78009e+06],[512,1.1639e+07],[1024,2.2695e+07],[2048,3.92262e+07],[4096,6.62998e+07],[8192,1.8148e+08],[16384,3.56097e+08],[32768,6.9734e+08],[65536,1.3144e+09],[131072,2.35868e+09],[262144,4.02617e+09],[524288,6.14208e+09],[1048576,8.7791e+09],[2097152,1.07596e+10]];
var data_9_rejit_best = [[8,8e+08],[16,1.6e+09],[32,1.06667e+09],[64,1.28e+09],[128,2.56e+09],[256,4.26667e+09],[512,7.31429e+09],[1024,1.024e+10],[2048,1.13778e+10],[4096,1.46286e+10],[8192,1.43719e+10],[16384,1.50312e+10],[32768,1.50312e+10],[65536,1.52765e+10],[131072,1.50657e+10],[262144,1.50398e+10],[524288,1.49626e+10],[1048576,1.47979e+10],[2097152,1.46429e+10]];
var data_9_rejit_base_amortised = [[8,1.6e+07],[16,3.13725e+07],[32,5.61404e+07],[64,1.08475e+08],[128,2.28571e+08],[256,4.65455e+08],[512,8.12698e+08],[1024,1.6e+09],[2048,3.15077e+09],[4096,5.38947e+09],[8192,7.5156e+09],[16384,1.024e+10],[32768,1.21363e+10],[65536,1.36533e+10],[131072,1.42625e+10],[262144,1.46859e+10],[524288,1.44711e+10],[1048576,1.46552e+10],[2097152,1.45494e+10]];
var data_9_rejit_base_worse = [[8,182732],[16,374181],[32,712219],[64,1.40289e+06],[128,2.80456e+06],[256,6.00234e+06],[512,1.11304e+07],[1024,2.21358e+07],[2048,4.5011e+07],[4096,9.48807e+07],[8192,1.89805e+08],[16384,3.72364e+08],[32768,7.20651e+08],[65536,1.35798e+09],[131072,2.43447e+09],[262144,4.11013e+09],[524288,6.41566e+09],[1048576,8.8264e+09],[2097152,1.06872e+10]];
var data_9_rejit_base_best = [[8,6.66667e+07],[16,1.23077e+08],[32,2e+08],[64,3.76471e+08],[128,7.52941e+08],[256,1.50588e+09],[512,2.69474e+09],[1024,4.65455e+09],[2048,7.58519e+09],[4096,1.07789e+10],[8192,1.18725e+10],[16384,1.35405e+10],[32768,1.41241e+10],[65536,1.48945e+10],[131072,1.49285e+10],[262144,1.50312e+10],[524288,1.46327e+10],[1048576,1.47417e+10],[2097152,1.4594e+10]];
          var datasets = [ 
{data: data_9_v8_speed, label: "v8 speed", color:"#E0D48D"},
{data: data_9_rejit_amortised, label: "rejit amortised", color:"#277AD9"},
{data: data_9_rejit_worse, label: "rejit worse", color:"#94B8E0"},
{data: data_9_rejit_best, label: "rejit best", color:"#94B8E0"},
{data: data_9_rejit_base_amortised, label: "rejit_base amortised", color:"#00940A"},
{data: data_9_rejit_base_worse, label: "rejit_base worse", color:"#72B377"},
{data: data_9_rejit_base_best, label: "rejit_base best", color:"#72B377"}, ];

          var choiceContainer = $("#plot_parallel_9_choices");
          $.each(datasets, function(key, val) {
             choiceContainer.append('<li style="list-style: none;"><input type="checkbox" name="' + key +
                                    '" checked="checked" id="id' + key + '">' +
                                    '<label for="id' + key + '">'
                                    + val.label + '</label></li>');
          });

          plot_according_to_choices("plot_parallel_9", datasets, choiceContainer);
          $("#plot_parallel_9").bind("plothover", plothover_func);
          function replot() { plot_according_to_choices("plot_parallel_9", datasets, choiceContainer); }
          choiceContainer.find("input").change(replot);
          $('.legendColorBox > div').each(function(i){
                                          $(this).clone().prependTo(choiceContainer.find("li").eq(i));
                                          });
        });
      </script>
    </td>

  <tr>
    <td style="padding-top: 1em;">
      <div style="padding: 2em 0 0 5em;">
      <pre>regexp: (abcd suffix|1234 suffix)
range: ['0','z']</pre> </div>
    </td>
  </tr>

  <tr>
    <td>
      <div>
        <div id="plot_parallel_10" style="float:left;width:600px;height:400px"></div>
        <div style="float:left;"> <ul id="plot_parallel_10_choices" style="list-style: none;" class="flot_choices"> </ul> </div>
      </div>
      <script type="text/javascript">
        $(function () {
          
var data_10_v8_speed = [[8,148945454.54545453],[16,297890909.09090906],[32,546133333.3333333],[64,1092266666.6666665],[128,2016492307.692308],[256,3744914285.714286],[512,5242880000],[1024,7767229629.62963],[2048,9986438095.238094],[4096,11037642105.263157],[8192,11335956756.756758],[16384,11037642105.263157],[32768,8924051063.829786],[65536,6990506666.666667],[131072,6168094117.6470585],[262144,5825422222.222221],[524288,5825422222.222221],[1048576,5825422222.222221],[2097152,5745621917.808219]];
var data_10_rejit_amortised = [[8,2.16216e+07],[16,4.44444e+07],[32,7.80488e+07],[64,1.42222e+08],[128,3.04762e+08],[256,5.95349e+08],[512,1.13778e+09],[1024,2.27556e+09],[2048,4.01569e+09],[4096,6.50159e+09],[8192,9.20449e+09],[16384,1.20471e+10],[32768,1.40635e+10],[65536,1.53121e+10],[131072,1.60431e+10],[262144,1.61817e+10],[524288,1.67237e+10],[1048576,1.68419e+10],[2097152,1.68541e+10]];
var data_10_rejit_worse = [[8,137836],[16,414938],[32,772014],[64,1.5311e+06],[128,3.02243e+06],[256,5.86618e+06],[512,9.65309e+06],[1024,2.23386e+07],[2048,5.28789e+07],[4096,1.0457e+08],[8192,2.08713e+08],[16384,4.06652e+08],[32768,7.97663e+08],[65536,1.49217e+09],[131072,2.62354e+09],[262144,4.60548e+09],[524288,7.22857e+09],[1048576,1.00007e+10],[2097152,1.1292e+10]];
var data_10_rejit_best = [[8,4e+08],[16,1.6e+09],[32,1.06667e+09],[64,1.28e+09],[128,2.56e+09],[256,4.26667e+09],[512,6.4e+09],[1024,1.024e+10],[2048,1.28e+10],[4096,1.46286e+10],[8192,1.54566e+10],[16384,1.62218e+10],[32768,1.65495e+10],[65536,1.67611e+10],[131072,1.67826e+10],[262144,1.66758e+10],[524288,1.6918e+10],[1048576,1.69426e+10],[2097152,1.69098e+10]];
var data_10_rejit_base_amortised = [[8,1.70213e+07],[16,3.33333e+07],[32,6.4e+07],[64,1.20755e+08],[128,2.5098e+08],[256,5.12e+08],[512,1.00392e+09],[1024,1.70667e+09],[2048,3.01176e+09],[4096,4.87619e+09],[8192,8.35918e+09],[16384,1.12219e+10],[32768,1.35405e+10],[65536,1.50312e+10],[131072,1.59455e+10],[262144,1.64767e+10],[524288,1.67184e+10],[1048576,1.685e+10],[2097152,1.6869e+10]];
var data_10_rejit_base_worse = [[8,206718],[16,415692],[32,790123],[64,1.59641e+06],[128,3.19122e+06],[256,6.87064e+06],[512,1.37008e+07],[1024,2.53654e+07],[2048,4.2729e+07],[4096,8e+07],[8192,2.13389e+08],[16384,4.24236e+08],[32768,8.22903e+08],[65536,1.54384e+09],[131072,2.7318e+09],[262144,4.66531e+09],[524288,7.31735e+09],[1048576,1.01982e+10],[2097152,1.25948e+10]];
var data_10_rejit_base_best = [[8,6.66667e+07],[16,1.23077e+08],[32,2.13333e+08],[64,3.76471e+08],[128,8e+08],[256,1.50588e+09],[512,2.84444e+09],[1024,4.65455e+09],[2048,7.06207e+09],[4096,1.024e+10],[8192,1.28e+10],[16384,1.46286e+10],[32768,1.57538e+10],[65536,1.63025e+10],[131072,1.66546e+10],[262144,1.68473e+10],[524288,1.69071e+10],[1048576,1.69453e+10],[2097152,1.69166e+10]];
          var datasets = [ 
{data: data_10_v8_speed, label: "v8 speed", color:"#E0D48D"},
{data: data_10_rejit_amortised, label: "rejit amortised", color:"#277AD9"},
{data: data_10_rejit_worse, label: "rejit worse", color:"#94B8E0"},
{data: data_10_rejit_best, label: "rejit best", color:"#94B8E0"},
{data: data_10_rejit_base_amortised, label: "rejit_base amortised", color:"#00940A"},
{data: data_10_rejit_base_worse, label: "rejit_base worse", color:"#72B377"},
{data: data_10_rejit_base_best, label: "rejit_base best", color:"#72B377"}, ];

          var choiceContainer = $("#plot_parallel_10_choices");
          $.each(datasets, function(key, val) {
             choiceContainer.append('<li style="list-style: none;"><input type="checkbox" name="' + key +
                                    '" checked="checked" id="id' + key + '">' +
                                    '<label for="id' + key + '">'
                                    + val.label + '</label></li>');
          });

          plot_according_to_choices("plot_parallel_10", datasets, choiceContainer);
          $("#plot_parallel_10").bind("plothover", plothover_func);
          function replot() { plot_according_to_choices("plot_parallel_10", datasets, choiceContainer); }
          choiceContainer.find("input").change(replot);
          $('.legendColorBox > div').each(function(i){
                                          $(this).clone().prependTo(choiceContainer.find("li").eq(i));
                                          });
        });
      </script>
    </td>

  <tr>
    <td style="padding-top: 1em;">
      <div style="padding: 2em 0 0 5em;">
      <pre>regexp: (abcdefgh anywhere xyz|01 anywhere 56789)
range: ['0','z']</pre> </div>
    </td>
  </tr>

  <tr>
    <td>
      <div>
        <div id="plot_parallel_11" style="float:left;width:600px;height:400px"></div>
        <div style="float:left;"> <ul id="plot_parallel_11_choices" style="list-style: none;" class="flot_choices"> </ul> </div>
      </div>
      <script type="text/javascript">
        $(function () {
          
var data_11_v8_speed = [[8,163840000],[16,297890909.09090906],[32,546133333.3333333],[64,1092266666.6666665],[128,2016492307.692308],[256,3276800000],[512,4993219047.619047],[1024,7489828571.428572],[2048,8924051063.829786],[4096,10230009756.09756],[8192,10485760000],[16384,10230009756.09756],[32768,8065969230.769232],[65536,6168094117.6470585],[131072,5518821052.631578],[262144,5115004878.04878],[524288,4993219047.619047],[1048576,5115004878.04878],[2097152,5053378313.253013]];
var data_11_rejit_amortised = [[8,1.42857e+07],[16,2.53968e+07],[32,5.2459e+07],[64,1.04918e+08],[128,2.13333e+08],[256,3.76471e+08],[512,6.4e+08],[1024,1.57538e+09],[2048,2.88451e+09],[4096,4.87619e+09],[8192,7.58519e+09],[16384,1.03696e+10],[32768,1.29518e+10],[65536,1.46286e+10],[131072,1.51005e+10],[262144,1.6333e+10],[524288,1.66546e+10],[1048576,1.68149e+10],[2097152,1.68487e+10]];
var data_11_rejit_worse = [[8,131492],[16,265648],[32,503224],[64,1.0301e+06],[128,2.16619e+06],[256,4.03595e+06],[512,6.41845e+06],[1024,1.71323e+07],[2048,3.42303e+07],[4096,6.83236e+07],[8192,1.37013e+08],[16384,2.7014e+08],[32768,5.31689e+08],[65536,1.02113e+09],[131072,1.89001e+09],[262144,3.30447e+09],[524288,5.63266e+09],[1048576,8.37655e+09],[2097152,1.12237e+10]];
var data_11_rejit_best = [[8,8e+08],[16,1.6e+09],[32,1.6e+09],[64,1.6e+09],[128,3.2e+09],[256,4.26667e+09],[512,3.93846e+09],[1024,1.28e+10],[2048,1.28e+10],[4096,1.46286e+10],[8192,1.57538e+10],[16384,1.62218e+10],[32768,1.66335e+10],[65536,1.68041e+10],[131072,1.61618e+10],[262144,1.69563e+10],[524288,1.69563e+10],[1048576,1.697e+10],[2097152,1.69275e+10]];
var data_11_rejit_base_amortised = [[8,1.06667e+07],[16,2.02532e+07],[32,3.95062e+07],[64,7.52941e+07],[128,1.03226e+08],[256,3.32468e+08],[512,6.2439e+08],[1024,1.23373e+09],[2048,2.27556e+09],[4096,3.9767e+09],[8192,6.50159e+09],[16384,9.41609e+09],[32768,1.21363e+10],[65536,1.41241e+10],[131072,1.49968e+10],[262144,1.61817e+10],[524288,1.63687e+10],[1048576,1.67424e+10],[2097152,1.68311e+10]];
var data_11_rejit_base_worse = [[8,133712],[16,262467],[32,509960],[64,1.00487e+06],[128,1.71605e+06],[256,3.96162e+06],[512,8.8215e+06],[1024,1.76187e+07],[2048,3.52193e+07],[4096,6.92828e+07],[8192,1.37773e+08],[16384,2.74531e+08],[32768,5.40815e+08],[65536,1.03418e+09],[131072,1.92583e+09],[262144,3.42672e+09],[524288,5.122e+09],[1048576,8.43856e+09],[2097152,1.12708e+10]];
var data_11_rejit_base_best = [[8,4e+07],[16,7.61905e+07],[32,1.3913e+08],[64,2.66667e+08],[128,4.12903e+08],[256,1.06667e+09],[512,1.96923e+09],[1024,3.53103e+09],[2048,5.85143e+09],[4096,8.53333e+09],[8192,1.13778e+10],[16384,1.36533e+10],[32768,1.51704e+10],[65536,1.60235e+10],[131072,1.60235e+10],[262144,1.67718e+10],[524288,1.66811e+10],[1048576,1.68962e+10],[2097152,1.69084e+10]];
          var datasets = [ 
{data: data_11_v8_speed, label: "v8 speed", color:"#E0D48D"},
{data: data_11_rejit_amortised, label: "rejit amortised", color:"#277AD9"},
{data: data_11_rejit_worse, label: "rejit worse", color:"#94B8E0"},
{data: data_11_rejit_best, label: "rejit best", color:"#94B8E0"},
{data: data_11_rejit_base_amortised, label: "rejit_base amortised", color:"#00940A"},
{data: data_11_rejit_base_worse, label: "rejit_base worse", color:"#72B377"},
{data: data_11_rejit_base_best, label: "rejit_base best", color:"#72B377"}, ];

          var choiceContainer = $("#plot_parallel_11_choices");
          $.each(datasets, function(key, val) {
             choiceContainer.append('<li style="list-style: none;"><input type="checkbox" name="' + key +
                                    '" checked="checked" id="id' + key + '">' +
                                    '<label for="id' + key + '">'
                                    + val.label + '</label></li>');
          });

          plot_according_to_choices("plot_parallel_11", datasets, choiceContainer);
          $("#plot_parallel_11").bind("plothover", plothover_func);
          function replot() { plot_according_to_choices("plot_parallel_11", datasets, choiceContainer); }
          choiceContainer.find("input").change(replot);
          $('.legendColorBox > div').each(function(i){
                                          $(this).clone().prependTo(choiceContainer.find("li").eq(i));
                                          });
        });
      </script>
    </td>

  <tr>
    <td style="padding-top: 1em;">
      <div style="padding: 2em 0 0 5em;">
      <pre>regexp: (some|[stuff])((other|regexps)? bla root blah | (abcdefgh boot{3,3} xyz | 00 foot 5678))
range: ['0','z']</pre> </div>
    </td>
  </tr>

  <tr>
    <td>
      <div>
        <div id="plot_parallel_12" style="float:left;width:600px;height:400px"></div>
        <div style="float:left;"> <ul id="plot_parallel_12_choices" style="list-style: none;" class="flot_choices"> </ul> </div>
      </div>
      <script type="text/javascript">
        $(function () {
          
var data_12_v8_speed = [[8,148945454.54545453],[16,252061538.4615385],[32,468114285.71428573],[64,771011764.7058823],[128,1008246153.846154],[256,1310720000],[512,1497965714.2857141],[1024,1638400000],[2048,1747626666.6666667],[4096,1638400000],[8192,1542023529.4117646],[16384,1497965714.2857141],[32768,1379705263.1578946],[65536,1310720000],[131072,1278751219.512195],[262144,1248304761.9047618],[524288,1263344578.3132532],[1048576,1255779640.7185628],[2097152,1252031044.7761195]];
var data_12_rejit_amortised = [[8,9.63855e+06],[16,1.70213e+07],[32,3.44086e+07],[64,6.66667e+07],[128,1.42222e+08],[256,2.81319e+08],[512,5.81818e+08],[1024,1.06667e+09],[2048,1.69256e+09],[4096,2.96812e+09],[8192,4.96485e+09],[16384,7.18596e+09],[32768,9.49797e+09],[65536,1.08324e+10],[131072,1.15076e+10],[262144,1.18778e+10],[524288,1.19591e+10],[1048576,1.19062e+10],[2097152,1.18671e+10]];
var data_12_rejit_worse = [[8,87546.5],[16,164254],[32,339487],[64,599869],[128,1.34539e+06],[256,2.86578e+06],[512,5.68005e+06],[1024,1.14209e+07],[2048,2.26398e+07],[4096,4.51798e+07],[8192,8.95398e+07],[16384,1.77758e+08],[32768,3.49712e+08],[65536,6.66423e+08],[131072,1.2675e+09],[262144,2.27023e+09],[524288,3.76238e+09],[1048576,5.6926e+09],[2097152,7.66279e+09]];
var data_12_rejit_best = [[8,4e+08],[16,8e+08],[32,8e+08],[64,1.06667e+09],[128,2.56e+09],[256,4.26667e+09],[512,7.31429e+09],[1024,1.024e+10],[2048,5.85143e+09],[4096,7.31429e+09],[8192,1.01136e+10],[16384,1.14573e+10],[32768,1.26031e+10],[65536,1.26031e+10],[131072,1.24357e+10],[262144,1.23536e+10],[524288,1.22041e+10],[1048576,1.20415e+10],[2097152,1.19285e+10]];
var data_12_rejit_base_amortised = [[8,6.4e+06],[16,1.28e+07],[32,2.5e+07],[64,5.20325e+07],[128,1.03226e+08],[256,2.06452e+08],[512,4.096e+08],[1024,8.06299e+08],[2048,1.41241e+09],[4096,2.34057e+09],[8192,4.11658e+09],[16384,4.86172e+09],[32768,8.62316e+09],[65536,1.01922e+10],[131072,1.08683e+10],[262144,1.1246e+10],[524288,1.1495e+10],[1048576,1.15431e+10],[2097152,1.15469e+10]];
var data_12_rejit_base_worse = [[8,89226],[16,172377],[32,349689],[64,585009],[128,1.47533e+06],[256,2.90843e+06],[512,5.77357e+06],[1024,1.16788e+07],[2048,2.31073e+07],[4096,4.57909e+07],[8192,9.05694e+07],[16384,1.70934e+08],[32768,3.34061e+08],[65536,6.81106e+08],[131072,1.27913e+09],[262144,2.29267e+09],[524288,3.76942e+09],[1048576,5.6692e+09],[2097152,7.59232e+09]];
var data_12_rejit_base_best = [[8,2.05128e+07],[16,4e+07],[32,7.80488e+07],[64,1.56098e+08],[128,3.12195e+08],[256,6.2439e+08],[512,1.21905e+09],[1024,2.22609e+09],[2048,3.2e+09],[4096,4.65455e+09],[8192,7.18596e+09],[16384,8.11089e+09],[32768,1.10703e+10],[65536,1.17029e+10],[131072,1.17238e+10],[262144,1.1729e+10],[524288,1.17081e+10],[1048576,1.16521e+10],[2097152,1.16038e+10]];
          var datasets = [ 
{data: data_12_v8_speed, label: "v8 speed", color:"#E0D48D"},
{data: data_12_rejit_amortised, label: "rejit amortised", color:"#277AD9"},
{data: data_12_rejit_worse, label: "rejit worse", color:"#94B8E0"},
{data: data_12_rejit_best, label: "rejit best", color:"#94B8E0"},
{data: data_12_rejit_base_amortised, label: "rejit_base amortised", color:"#00940A"},
{data: data_12_rejit_base_worse, label: "rejit_base worse", color:"#72B377"},
{data: data_12_rejit_base_best, label: "rejit_base best", color:"#72B377"}, ];

          var choiceContainer = $("#plot_parallel_12_choices");
          $.each(datasets, function(key, val) {
             choiceContainer.append('<li style="list-style: none;"><input type="checkbox" name="' + key +
                                    '" checked="checked" id="id' + key + '">' +
                                    '<label for="id' + key + '">'
                                    + val.label + '</label></li>');
          });

          plot_according_to_choices("plot_parallel_12", datasets, choiceContainer);
          $("#plot_parallel_12").bind("plothover", plothover_func);
          function replot() { plot_according_to_choices("plot_parallel_12", datasets, choiceContainer); }
          choiceContainer.find("input").change(replot);
          $('.legendColorBox > div').each(function(i){
                                          $(this).clone().prependTo(choiceContainer.find("li").eq(i));
                                          });
        });
      </script>
    </td>
</table>
